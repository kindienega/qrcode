<%layout('layouts/boilerplate') %>

<style>
    main{
        display:flex;
        justify-content: center;
        align-items: center;
    }
    #reader{
        width:600px
    }
    #result{
        text-align: center;
        font-size: 1.5rem;
    }
</style>
<body>
    <%-include('./partials/flash') %> 
   
    <main>
        <div id="reader"></div>
        <div id="result"></div>
    </main>
    <!-- <script src="/node_modules/html5-qrcode/html5-qrcode.min.js"></script> -->
    <script src="html5-qrcode.min.js" type="text/javascript"></script>
    <script>
      // const {Html5QrcodeScanner} = require("html5-qrcode")
      const scanner=new Html5QrcodeScanner('reader',{
        qrbox:{
            width:250,
            height:250,
        },
        fps:20,
      })
      scanner.render(success,error)
      async function success(result){
        scanner.clear()
        window.location.href = `${result}`
      }
      function error(err){

      }

    </script>
   
</body>

</html>